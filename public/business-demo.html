<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banco GT - Panel de Negocio Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .demo-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .header p {
            color: #7f8c8d;
            font-size: 1.2rem;
        }
        
        .demo-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .demo-section h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .demo-btn {
            background: linear-gradient(45deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }
        
        .demo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
        }
        
        .demo-btn.business {
            background: linear-gradient(45deg, #28a745, #20c997);
        }
        
        .demo-btn.business:hover {
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 8px 0;
            color: #495057;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feature-list li::before {
            content: "‚úÖ";
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .integration-note {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="header">
            <h1>üè¢ Banco GT - Panel de Negocio</h1>
            <p>Gestiona √≥rdenes de pago y monitorea tu negocio</p>
        </div>

        <div class="demo-section">
            <h3>üéÆ Demo Interactiva</h3>
            <p>Prueba las diferentes funcionalidades del panel de negocio:</p>
            
            <button class="demo-btn business" onclick="openBusinessPanel()">
                üßæ Abrir Panel de Negocio
            </button>
            
            <button class="demo-btn" onclick="openPaymentWidget()">
                üí≥ Widget de Pago (Cliente)
            </button>
        </div>

        <div class="demo-section">
            <h3>üöÄ Funcionalidades del Panel</h3>
            <ul class="feature-list">
                <li>Generar √≥rdenes de pago con c√≥digos √∫nicos</li>
                <li>Ver dashboard con estad√≠sticas en tiempo real</li>
                <li>Monitorear √≥rdenes generadas y su estado</li>
                <li>Copiar datos de √≥rdenes al portapapeles</li>
                <li>C√≥digos QR para facilitar pagos</li>
                <li>Integraci√≥n sencilla con cualquier sitio web</li>
            </ul>
        </div>

        <div class="demo-section">
            <h3>üíª Integraci√≥n</h3>
            <p>Integra el panel de negocio en tu sitio web:</p>
            
            <div class="code-block">
&lt;!-- ‚úÖ RECOMENDADO: Carga directa para actualizaciones autom√°ticas -->
&lt;script src="https://tu-servidor.com/widget/banco-payment-widget.js">&lt;/script>
&lt;script>
    const businessPanel = new BancoPaymentWidget({
        merchantId: '2001', // Tu ID de negocio
        mode: 'business',
        apiUrl: 'https://banco-gt-api-aa7d620b23f8.herokuapp.com',
        autoUpdate: true, // üÜï Verificar actualizaciones
        showVersionInfo: true, // üÜï Mostrar info de versi√≥n
        onSuccess: (data) => console.log('√âxito:', data),
        onError: (error) => console.error('Error:', error)
    });
&lt;/script>
            </div>

            <div class="integration-note">
                <strong>ÔøΩ Actualizaciones Autom√°ticas:</strong> Al cargar el script directamente desde nuestro servidor, 
                recibir√°s autom√°ticamente todas las nuevas funcionalidades sin cambiar tu c√≥digo.
            </div>
        </div>

        <div class="demo-section">
            <h3>üîß Configuraci√≥n Avanzada</h3>
            <div class="code-block">
const businessPanel = new BancoPaymentWidget({
    merchantId: '2001',
    mode: 'business',
    apiUrl: 'https://tu-api.com',
    theme: 'modern',
    language: 'es',
    autoUpdate: true,        // üÜï Verificar actualizaciones
    showVersionInfo: true,   // üÜï Info de versi√≥n en consola
    onSuccess: (data) => {
        // Orden generada exitosamente
        console.log('Nueva orden:', data);
    },
    onError: (error) => {
        // Manejar errores
        alert('Error: ' + error);
    }
});

// Abrir panel program√°ticamente
document.getElementById('open-panel').onclick = () => {
    businessPanel.open();
};

// üÜï Verificar versi√≥n actual
console.log('Widget info:', businessPanel.getVersionInfo());
            </div>
        </div>

        <div class="demo-section">
            <h3>üîÑ Gesti√≥n de Actualizaciones</h3>
            
            <div class="integration-note">
                <strong>üìà Compatibilidad hacia atr√°s:</strong> Las nuevas versiones mantienen compatibilidad 
                con la configuraci√≥n existente. Los negocios pueden usar nuevas funcionalidades sin cambiar su integraci√≥n.
            </div>
            
            <h4>üéØ Estrategias de Actualizaci√≥n:</h4>
            <ul class="feature-list">
                <li><strong>Autom√°tica:</strong> Cargar script desde nuestro CDN</li>
                <li><strong>Manual:</strong> Descargar y hospedar el archivo localmente</li>
                <li><strong>Versionada:</strong> Usar URLs espec√≠ficas de versi√≥n</li>
            </ul>

            <div class="code-block">
&lt;!-- Opciones de carga del widget -->

&lt;!-- üü¢ Actualizaciones autom√°ticas -->
&lt;script src="https://banco-gt.com/widget/latest.js">&lt;/script>

&lt;!-- üü° Versi√≥n espec√≠fica (estable) -->
&lt;script src="https://banco-gt.com/widget/v1.1.0.js">&lt;/script>

&lt;!-- üî¥ Archivo local (actualizaciones manuales) -->
&lt;script src="/assets/banco-payment-widget.js">&lt;/script>
            </div>
        </div>
    </div>

    <script src="/widget/banco-payment-widget.js"></script>
    <script>
        // Instancia del panel de negocio
        const businessPanel = new BancoPaymentWidget({
            merchantId: '2001',
            mode: 'business',
            apiUrl: 'http://localhost:3000',
            onSuccess: (data) => {
                console.log('Orden generada:', data);
                alert('¬°Orden generada exitosamente!\nC√≥digo: ' + data.codigoOrden);
            },
            onError: (error) => {
                console.error('Error:', error);
                alert('Error: ' + error);
            }
        });

        // Instancia del widget de pago normal
        const paymentWidget = new BancoPaymentWidget({
            merchantId: 'DEMO_STORE',
            mode: 'payment',
            apiUrl: 'http://localhost:3000',
            onSuccess: (data) => {
                console.log('Pago exitoso:', data);
            },
            onError: (error) => {
                console.error('Error en pago:', error);
            }
        });

        function openBusinessPanel() {
            businessPanel.open();
        }

        function openPaymentWidget() {
            paymentWidget.open({ amount: 100.00 });
        }
    </script>
</body>
</html>